<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 820" font-family="Arial, sans-serif">
  <rect width="1600" height="820" fill="#ffffff" />

  <text x="800" y="40" font-size="22" font-weight="800" text-anchor="middle" fill="#111827">Git的数据结构和工作原理</text>

  <defs>
    <marker id="arrow-main" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" fill="#2563EB">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>

  <g id="working-directory" transform="translate(50,80)">
    <rect x="0" y="0" width="280" height="220" rx="10" ry="10" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <rect x="10" y="10" width="260" height="35" rx="5" ry="5" fill="#3B82F6" />
    <text x="140" y="33" font-size="16" font-weight="bold" text-anchor="middle" fill="white">工作区 (Working Directory)</text>
    <text x="140" y="65" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">可见的项目文件目录</text>

    <rect x="30" y="80" width="50" height="50" rx="3" ry="3" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="55" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">file.txt</text>

    <rect x="100" y="80" width="50" height="50" rx="3" ry="3" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="125" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">app.js</text>

    <rect x="170" y="80" width="50" height="50" rx="3" ry="3" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="195" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">style.css</text>

    <rect x="30" y="150" width="190" height="40" rx="3" ry="3" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="125" y="165" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">其他项目文件...</text>
    <text x="125" y="180" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">(用户直接编辑的区域)</text>
  </g>

  <g id="staging-area" transform="translate(430,80)">
    <rect x="0" y="0" width="280" height="220" rx="10" ry="10" fill="#F0FDF4" stroke="#34D399" stroke-width="2"/>
    <rect x="10" y="10" width="260" height="35" rx="5" ry="5" fill="#34D399" />
    <text x="140" y="33" font-size="16" font-weight="bold" text-anchor="middle" fill="white">暂存区 (Staging Area)</text>
    <text x="140" y="65" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">.git/index 索引文件</text>

    <rect x="30" y="80" width="50" height="50" rx="3" ry="3" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="55" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">file.txt</text>
    <text x="55" y="120" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">(已暂存)</text>

    <rect x="100" y="80" width="50" height="50" rx="3" ry="3" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="125" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">app.js</text>
    <text x="125" y="120" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">(已暂存)</text>

    <rect x="190" y="100" width="70" height="30" rx="3" ry="3" fill="#FEF9C3" stroke="#FACC15" stroke-width="1"/>
    <text x="225" y="115" font-size="11" font-weight="normal" text-anchor="middle" fill="#374151">未跟踪文件</text>
    <text x="225" y="125" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">不在此区域</text>

    <text x="140" y="170" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">临时存储准备提交的更改</text>
    <text x="140" y="185" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">类似"购物车"功能</text>
  </g>

  <g id="repository" transform="translate(810,80)">
    <rect x="0" y="0" width="320" height="220" rx="10" ry="10" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <rect x="10" y="10" width="300" height="35" rx="5" ry="5" fill="#60A5FA" />
    <text x="160" y="33" font-size="16" font-weight="bold" text-anchor="middle" fill="white">版本库 (Repository)</text>
    <text x="160" y="65" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">.git/objects 数据库</text>

    <circle cx="80" cy="100" r="25" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <text x="80" y="100" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">Commit</text>
    <text x="80" y="110" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">C1a3b5</text>

    <circle cx="160" cy="100" r="25" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <text x="160" y="100" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">Commit</text>
    <text x="160" y="110" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">D2e4f6</text>

    <circle cx="240" cy="100" r="25" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <text x="240" y="100" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">Commit</text>
    <text x="240" y="110" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">E3g5h7</text>

    <line x1="105" y1="100" x2="135" y2="100" stroke="#2563EB" stroke-width="2"/>
    <line x1="185" y1="100" x2="215" y2="100" stroke="#2563EB" stroke-width="2"/>

    <rect x="130" y="140" width="60" height="20" rx="3" ry="3" fill="#60A5FA"/>
    <text x="160" y="155" font-size="11" font-weight="normal" text-anchor="middle" fill="white">master</text>

    <rect x="200" y="140" width="60" height="20" rx="3" ry="3" fill="#60A5FA"/>
    <text x="230" y="155" font-size="11" font-weight="normal" text-anchor="middle" fill="white">HEAD</text>

    <text x="160" y="185" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">永久存储所有版本历史</text>
  </g>

  <g id="remote-repo" transform="translate(1230,80)">
    <rect x="0" y="0" width="220" height="220" rx="10" ry="10" fill="#F0FDF4" stroke="#34D399" stroke-width="2"/>
    <rect x="10" y="10" width="200" height="35" rx="5" ry="5" fill="#34D399" />
    <text x="110" y="33" font-size="16" font-weight="bold" text-anchor="middle" fill="white">远程仓库 (Remote)</text>
    <text x="110" y="65" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">GitHub/GitLab/Gitee</text>

    <rect x="30" y="80" width="50" height="50" rx="3" ry="3" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="55" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">main</text>

    <rect x="100" y="80" width="50" height="50" rx="3" ry="3" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="125" y="105" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">develop</text>

    <rect x="30" y="150" width="120" height="40" rx="3" ry="3" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="90" y="165" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">远程分支...</text>
    <text x="90" y="180" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">团队共享</text>
  </g>

  <g id="connectors">
    <path d="M 330 150 L 430 150" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <text x="380" y="120" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">git add</text>
    <text x="380" y="135" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">添加文件到暂存区</text>

    <path d="M 430 180 L 330 180" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrow-main)"/>
    <text x="380" y="200" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151">git restore --staged</text>
    <text x="380" y="215" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">从暂存区撤回</text>

    <path d="M 710 150 L 810 150" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <text x="760" y="120" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">git commit</text>
    <text x="760" y="135" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">提交到版本库</text>

    <path d="M 810 180 L 710 180" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrow-main)"/>
    <text x="760" y="200" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151">git reset</text>
    <text x="760" y="215" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">从版本库撤回</text>

    <path d="M 970 300 L 970 350 L 190 350 L 190 300" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrow-main)" fill="none"/>
    <text x="580" y="325" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151">git checkout</text>
    <text x="580" y="340" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">检出文件到工作区</text>

    <path d="M 1130 150 L 1230 150" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <text x="1180" y="120" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">git push</text>
    <text x="1180" y="135" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">推送到远程</text>

    <path d="M 1230 180 L 1130 180" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrow-main)"/>
    <text x="1180" y="200" font-size="11" font-weight="bold" text-anchor="middle" fill="#374151">git pull/fetch</text>
    <text x="1180" y="215" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">从远程拉取</text>
  </g>

  <g id="object-model" transform="translate(50,380)">
    <rect x="0" y="0" width="1400" height="140" rx="10" ry="10" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <text x="700" y="25" font-size="16" font-weight="bold" text-anchor="middle" fill="#111827">Git对象模型与数据存储</text>

    <rect x="50" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="150" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">Blob对象</text>
    <text x="150" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">存储文件内容</text>
    <text x="150" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">SHA-1哈希标识</text>

    <rect x="350" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="450" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">Tree对象</text>
    <text x="450" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">存储目录结构</text>
    <text x="450" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">指向Blob和子Tree</text>

    <rect x="650" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="750" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">Commit对象</text>
    <text x="750" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">存储提交信息</text>
    <text x="750" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">指向Tree和父Commit</text>

    <rect x="950" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="1050" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">Tag对象</text>
    <text x="1050" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">标记特定版本</text>
    <text x="1050" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">指向Commit对象</text>

    <line x1="250" y1="70" x2="350" y2="70" stroke="#2563EB" stroke-width="1"/>
    <line x1="550" y1="70" x2="650" y2="70" stroke="#2563EB" stroke-width="1"/>
    <line x1="850" y1="70" x2="950" y2="70" stroke="#2563EB" stroke-width="1"/>

    <text x="700" y="125" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">所有对象存储在 .git/objects目录中，通过SHA-1哈希值唯一标识和检索</text>
  </g>

  <g id="workflow" transform="translate(50,570)">
    <rect x="0" y="0" width="1400" height="160" rx="10" ry="10" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <text x="700" y="25" font-size="16" font-weight="bold" text-anchor="middle" fill="#111827">Git核心工作流程</text>

    <rect x="50" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="150" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">步骤 1</text>
    <text x="150" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">工作区修改文件</text>
    <text x="150" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">git status 查看状态</text>

    <rect x="300" y="40" width="200" height="60" rx="5" ry="5" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="400" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">步骤 2</text>
    <text x="400" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">git add 到暂存区</text>
    <text x="400" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">git diff 比较差异</text>

    <rect x="550" y="40" width="200" height="60" rx="5" ry="5" fill="#EFF6FF" stroke="#60A5FA" stroke-width="1"/>
    <text x="650" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">步骤 3</text>
    <text x="650" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">git commit 到版本库</text>
    <text x="650" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">创建新提交对象</text>

    <rect x="800" y="40" width="200" height="60" rx="5" ry="5" fill="#F0FDF4" stroke="#34D399" stroke-width="1"/>
    <text x="900" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">步骤 4</text>
    <text x="900" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">git push 到远程</text>
    <text x="900" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">团队协作共享</text>

    <rect x="1050" y="40" width="200" height="60" rx="5" ry="5" fill="#FEF9C3" stroke="#FACC15" stroke-width="1"/>
    <text x="1150" y="60" font-size="12" font-weight="bold" text-anchor="middle" fill="#374151">步骤 5</text>
    <text x="1150" y="75" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">分支管理与合并</text>
    <text x="1150" y="90" font-size="11" font-weight="normal" text-anchor="middle" fill="#6B7280">解决冲突等</text>

    <path d="M 250 70 L 300 70" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <path d="M 500 70 L 550 70" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <path d="M 750 70 L 800 70" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>
    <path d="M 1000 70 L 1050 70" stroke="#2563EB" stroke-width="2" marker-end="url(#arrow-main)"/>

    <text x="700" y="120" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">
      <tspan font-weight="bold">分布式架构：</tspan>每个开发者拥有完整的仓库副本，支持离线工作
    </text>
    <text x="700" y="135" font-size="12" font-weight="normal" text-anchor="middle" fill="#374151">
      <tspan font-weight="bold">完整性保证：</tspan>通过SHA-1哈希校验确保内容完整性
    </text>
  </g>

  <text x="800" y="800" font-size="12" font-weight="normal" text-anchor="middle" fill="#64748B">
    本作品采用CC-BY-SA 4.0国际许可协议进行许可，© 2025 Gitconomy Research社区
  </text>
</svg>
