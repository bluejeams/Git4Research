
<svg width="800" height="650" xmlns="http://www.w3.org/2000/svg" style="background-color: white;">
  <!-- 主标题 -->
  <text x="400" y="50" class="main-title-text" text-anchor="middle" font-size="22px" font-weight="800" fill="#111827">
    图形即代码(DaC)工作原理
  </text>

  <!-- 源代码区域 -->
  <g transform="translate(100, 100)">
    <rect x="0" y="0" width="180" height="120" rx="5" ry="5" class="main-box" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      源代码
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      以文本形式定义图形
    </text>
    <text x="90" y="80" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      (Mermaid, PlantUML等)
    </text>
    <text x="90" y="100" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      与代码一同版本控制
    </text>
  </g>

  <!-- 版本控制系统 -->
  <g transform="translate(100, 280)">
    <rect x="0" y="0" width="180" height="100" rx="5" ry="5" class="box" fill="#F0FDF4" stroke="#34D399" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      版本控制系统
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      存储和追踪文本变更
    </text>
    <text x="90" y="80" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      (Git, SVN等)
    </text>
  </g>

  <!-- 从源代码到版本控制的箭头 -->
  <line x1="190" y1="220" x2="190" y2="270" stroke="#2563EB" stroke-width="2"/>
  <circle cx="190" cy="275" r="5" fill="#2563EB"/>

  <!-- CI/CD 渲染系统 -->
  <g transform="translate(350, 280)">
    <rect x="0" y="0" width="180" height="100" rx="5" ry="5" class="card-background" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      CI/CD 渲染系统
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      自动将文本转换为图形
    </text>
    <text x="90" y="80" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      (GitHub Actions等)
    </text>
  </g>

  <!-- 从版本控制到CI/CD的箭头 -->
  <line x1="280" y1="330" x2="340" y2="330" stroke="#2563EB" stroke-width="2"/>
  <circle cx="345" cy="330" r="5" fill="#2563EB"/>

  <!-- SVG输出 -->
  <g transform="translate(350, 100)">
    <rect x="0" y="0" width="180" height="120" rx="5" ry="5" class="highlight-box" fill="#FEF9C3" stroke="#FACC15" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      SVG输出
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      生成可缩放矢量图形
    </text>
    <text x="90" y="80" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      遵循设计规范
    </text>
    <text x="90" y="100" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      (统一样式与布局)
    </text>
  </g>

  <!-- 从CI/CD到SVG的箭头 -->
  <line x1="440" y1="280" x2="440" y2="230" stroke="#2563EB" stroke-width="2"/>
  <circle cx="440" cy="225" r="5" fill="#2563EB"/>

  <!-- 文档系统 -->
  <g transform="translate(600, 100)">
    <rect x="0" y="0" width="180" height="120" rx="5" ry="5" class="box" fill="#F0FDF4" stroke="#34D399" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      文档系统
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      集成生成的图形
    </text>
    <text x="90" y="80" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      自动更新文档
    </text>
    <text x="90" y="100" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      (Markdown, 网站等)
    </text>
  </g>

  <!-- 从SVG到文档系统的箭头 -->
  <line x1="530" y1="160" x2="590" y2="160" stroke="#2563EB" stroke-width="2"/>
  <circle cx="595" cy="160" r="5" fill="#2563EB"/>

  <!-- 开发者查看与修改 -->
  <g transform="translate(600, 280)">
    <rect x="0" y="0" width="180" height="100" rx="5" ry="5" class="main-box" fill="#EFF6FF" stroke="#60A5FA" stroke-width="2"/>
    <text x="90" y="30" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      开发者查看与修改
    </text>
    <text x="90" y="60" class="body-text" text-anchor="middle" font-size="12px" fill="#374151">
      读取并编辑源代码
    </text>
    <text x="90" y="80" class="small-text" text-anchor="middle" font-size="11px" fill="#6B7280">
      (而非直接编辑图形)
    </text>
  </g>

  <!-- 从文档系统到开发者的箭头 -->
  <line x1="690" y1="220" x2="690" y2="270" stroke="#2563EB" stroke-width="2"/>
  <circle cx="690" cy="275" r="5" fill="#2563EB"/>

  <!-- 优点说明 - 移动到底部 -->
  <g transform="translate(350, 440)">
    <rect x="0" y="0" width="280" height="110" rx="5" ry="5" class="card-background" fill="#DBEAFE" stroke="#3B82F6" stroke-width="2"/>
    <text x="140" y="25" class="title-text" text-anchor="middle" font-size="16px" font-weight="bold" fill="#111827">
      图形即代码的优点
    </text>
    <text x="20" y="50" class="body-text" font-size="12px" fill="#374151">• 版本控制：跟踪图表变更历史</text>
    <text x="20" y="70" class="body-text" font-size="12px" fill="#374151">• 协作：多人可同时编辑和审核</text>
    <text x="20" y="90" class="body-text" font-size="12px" fill="#374151">• 自动化：CI/CD流程自动更新图表</text>
  </g>

  <!-- 流程方向指示 -->
  <g transform="translate(100, 440)">
    <text x="0" y="0" class="small-text" font-size="11px" fill="#6B7280">流程方向:</text>
    <line x1="0" y1="15" x2="30" y2="15" stroke="#2563EB" stroke-width="2"/>
    <circle cx="35" cy="15" r="5" fill="#2563EB"/>
    <text x="45" y="20" class="small-text" font-size="11px" fill="#6B7280">标准流程</text>

    <line x1="0" y1="40" x2="30" y2="40" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,5"/>
    <circle cx="35" cy="40" r="5" fill="#2563EB"/>
    <text x="45" y="45" class="small-text" font-size="11px" fill="#6B7280">反馈流程</text>
  </g>

  <!-- 从开发者到源代码的反馈箭头 (连接到源代码卡片上边框中点) -->
  <!-- 第一段 - 从开发者向左 -->
  <line x1="600" y1="330" x2="550" y2="330" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,5"/>

  <!-- 第二段 - 向上到达源代码上方 -->
  <path d="M550,330 L550,70 L190,70" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,5" fill="none"/>

  <!-- 第三段 - 向下到源代码上边框中点 -->
  <line x1="190" y1="70" x2="190" y2="95" stroke="#2563EB" stroke-width="2" stroke-dasharray="5,5"/>
  <circle cx="190" cy="100" r="5" fill="#2563EB"/>

  <!-- 许可声明 -->
  <text x="400" y="600" class="license-text" text-anchor="middle" font-size="12px" fill="#64748B">
    本作品采用 CC-BY-SA 4.0 国际许可协议进行许可，© 2025 Gitconomy Research社区
  </text>
</svg>
